# RAON.I ë§ˆìŠ¤í„° ê°œë°œ ë¡œë“œë§µ v3 (Final Integrated Version)

**ë²„ì „**: v4.1 (XP Lifecycle & Deletion Complete)
**ê¸°ë°˜**: RAONAI SSOT MASTER v9 + User Feedback (Gap Filling)
**ì‘ì„±ì¼**: 2025-12-31

ì´ ë¬¸ì„œëŠ” ë¼ì˜¨ì•„ì´ í”„ë¡œì íŠ¸ì˜ **ìµœì¢… í™•ì •í˜• ê°œë°œ ê°€ì´ë“œ**ì…ë‹ˆë‹¤.
ê¸°ì¡´ì˜ ê²¬ê³ í•œ í”„ë ˆì„ì›Œí¬ ìœ„ì— **íŠ¸ë Œë“œ(ê°ì„±Â·ì´ˆê°œì¸í™”)**ì™€ **í˜„ì‹¤ì ì¸ AI ì „ëµ(L0/L1)**ì„ ê²°í•©í•˜ì—¬, ì‚¬ìš©ìì—ê²Œ ê°€ì¥ ê°€ì¹˜ ìˆëŠ” ê²½í—˜ì„ ìš°ì„ ì ìœ¼ë¡œ ì „ë‹¬í•©ë‹ˆë‹¤.

---

## ğŸ“… ì „ì²´ ì§„í–‰ë¥  ìš”ì•½ (Progress Summary)

| ë‹¨ê³„ | êµ¬ë¶„ | ìƒíƒœ | ì§„í–‰ë¥  | ë¹„ê³  |
| :--- | :--- | :--- | :--- | :--- |
| **Phase 0** | **ì½”ì–´ í”Œë«í¼ ê¸°ë°˜ (Foundation)** | âœ… **ì™„ë£Œ** | 100% | í•„ì½”ë…¸ë¯¸ ê°ì„± í†¤, UI í”„ë ˆì„, ë°ì´í„° ë ˆì´ì–´ |
| **Phase 1** | **ì‚¬ìš©ì í™ˆ (User Home)** | âœ… **ì™„ë£Œ** | 100% | Beginner/Returning UI, Smart Re-book, L0 Logic ì™„ë£Œ |
| **Phase 2** | **ë‚´ê³µê°„ (My Space)** | âœ… **ì™„ë£Œ** | 100% | ëŒ€ì‹œë³´ë“œ/ì§€ë„/íƒ€ì„ë¼ì¸ ì™„ë£Œ. ì•„ì¹´ì´ë¸Œ(ê¸°ë¡) ë¦¬ë‰´ì–¼ ë° XP/Token ì™„ë£Œ. |
| **Phase 3** | **ì˜ˆì•½ ì‹œìŠ¤í…œ (Reservation)** | âœ… **ì™„ë£Œ** | 95% | Logic/Validation/Admin Core/Holidays ì™„ë£Œ. PG/ì˜¤í”ˆì¼ ë‚¨ìŒ. |
| **Phase 4** | **ë¯¸ë˜ ê¸°ëŠ¥ (Future)** | âœ… **ì™„ë£Œ** | 100% | ì›¹ í‘¸ì‹œ(FCM), ìƒí™©ë³„ ì•Œë¦¼ ì‹œìŠ¤í…œ, ì¸ì•± ë°°ì§€ êµ¬í˜„ ì™„ë£Œ. |
| **Phase 5** | **ë§ˆì¼“ & ê²°ì œ (Market)** | âœ… **ì™„ë£Œ** | 100% | MVP ì™„ë£Œ. ë¦¬ë·° ì‹œìŠ¤í…œ(DB/UI) êµ¬í˜„ ë° ê²€ì¦ ì™„ë£Œ. Commerce Logic Complete. |
| **Phase 6** | **í™•ì¥ ëª¨ë“ˆ (Expansion)** | âœ… **ì™„ë£Œ** | 98% | í¬ë¦¬ì—ì´í„°, ë¯¸ì…˜(XP/Deletion ì™„ì „êµ¬í˜„) ì™„ë£Œ. í™•ì¥ ì§€ë„ ëŒ€ê¸° |
| **Phase 7** | **ìš´ì˜ & ê°­ í•„ë§ (Ops & Gap)** | âœ… **ì™„ë£Œ** | 100% | Admin Ops, XP/Deletion ì•ˆì •í™”, UI/UX ë””í…Œì¼ ë³´ì™„ ì™„ë£Œ. ë§ˆì¼“ í”¼ë²— ëŒ€ê¸°. |
| **Phase 8** | **ì•ˆì •í™” ë° ë¦¬íŒ©í† ë§ (Stabilization)** | âœ… **ì™„ë£Œ** | 98% | Deep Refactoring ì™„ë£Œ. Push ì‹œìŠ¤í…œ(ì˜ˆì•½ë³€ê²½/í…œí”Œë¦¿/Edge Function) êµ¬í˜„ ì™„ë£Œ. ë°°í¬ ëŒ€ê¸°. |

---

## ğŸš€ ìƒì„¸ ë¡œë“œë§µ (Detailed Roadmap)

### Phase 0: ì½”ì–´ í”Œë«í¼ ê¸°ë°˜ (Foundation) - âœ… ì™„ë£Œ
*   **0.1 ê¸€ë¡œë²Œ UI í”„ë ˆì„**: TopBar, BottomNav, 390px ë ˆì´ì•„ì›ƒ
*   **0.2 ê³µí†µ ë¼ì´ë¸ŒëŸ¬ë¦¬**: Shadcn UI, Tailwind, Lucide Icons
*   **0.3 ë¼ìš°íŒ…**: Next.js App Router (`(mobile)`, `admin`)
*   **0.4 ì¸ì¦ ì‹œìŠ¤í…œ (Authentication)** âœ… (2025-01-01):
    *   [x] **UI**: ìˆ² í…Œë§ˆ ê¸€ë˜ìŠ¤ëª¨í”¼ì¦˜ ë””ìì¸ + ëª¨ë°”ì¼ ë°˜ì‘í˜• ìµœì í™”.
    *   [x] **ì†Œì…œ ë¡œê·¸ì¸**: ì¹´ì¹´ì˜¤, êµ¬ê¸€ ì—°ë™ ë° ë¦¬ë‹¤ì´ë ‰íŠ¸ ì²˜ë¦¬.
    *   [x] **ì´ë©”ì¼**: ë¡œê·¸ì¸/ê°€ì… ëª¨ë“œ í† ê¸€, íŒ¨ìŠ¤ì›Œë“œë¦¬ìŠ¤ ë³´ì•ˆ êµ¬ì¡°.

### Phase 1: ì‚¬ìš©ì í™ˆ (User Home) - âœ… ì™„ë£Œ
**"ê°ì„±, ì•ˆë‚´, ê·¸ë¦¬ê³  ì´ˆê°œì¸í™”ëœ ì²«ì¸ìƒ"**
*   **1.1 ë¶„ê¸° ì—”ì§„ (L0)**: ì‚¬ìš©ì ìƒíƒœ íŒë³„ ì™„ë£Œ
*   **1.2 ì´ˆë³´ì í™ˆ (Beginner)**: íˆì–´ë¡œ, ê°€ì´ë“œ, í”„ë¼ì´ìŠ¤ ë””ì½”ë”© ì™„ë£Œ
*   **1.3 ê¸°ì¡´ ì‚¬ìš©ì í™ˆ (Returning)**: ìŠ¤ë§ˆíŠ¸ ë¦¬ë¶, ì˜ˆì•½ íŒ¨ë„, ê°ì„± ë°°ê²½ ì™„ë£Œ

### Phase 2: ë‚´ê³µê°„ (My Space) - âœ… Completed
**"Digital Archive - ë‚˜ë§Œì˜ ê¸°ë¡ê³¼ ì‚¬ì§„"**
> **Product Pivot (2025-12-28)**: ê¸°ì¡´ì˜ 'ê¾¸ë¯¸ê¸°/ë¶ˆë©(Digital Toy)' ì»¨ì…‰ì„ íê¸°í•˜ê³ , **"ì‚¬ì§„ê³¼ ê¸°ë¡(Digital Archive)"**ì— ì§‘ì¤‘í•©ë‹ˆë‹¤. ì–´ì„¤í”ˆ ì• ë‹ˆë©”ì´ì…˜ ëŒ€ì‹  ì‚¬ìš©ìì˜ ê³ í€„ë¦¬í‹° ì‚¬ì§„ì´ ì£¼ëŠ” ê°ë™ì„ ê·¹ëŒ€í™”í•©ë‹ˆë‹¤.
*   **2.1 ëŒ€ì‹œë³´ë“œ**: POV ë·°, ìœ„ì ¯ ì™„ë£Œ
*   **2.2 ë‚˜ë§Œì˜ ì§€ë„**: í•€ ì €ì¥, ìƒì„¸ ì‹œíŠ¸ ì™„ë£Œ
*   **2.3 íƒ€ì„ë¼ì¸**: í†µí•© í”¼ë“œ ì™„ë£Œ.
*   **2.4 ì•„ì¹´ì´ë¸Œ ë¦¬ë‰´ì–¼** âœ…:
    *   [x] **ê¸°ë¡ í˜ì´ì§€**: í’€ì‚¬ì´ì¦ˆ ë·°, ì¢…ì´ ì§ˆê°, ê²€ìƒ‰, ë¹„ê³µê°œ ë¡œì§ êµ¬í˜„.
    *   [x] **íˆì–´ë¡œ ì„¹ì…˜**: ë¯¸ì…˜ ë°°ì§€ ê°€ì‹œì„± í™•ë³´ ë° UX ê°œì„ .
    *   [x] **ì—°ë™**: ì†Œëª¨ì„/ê³µì§€ ìœ„ì ¯ê³¼ ì»¤ë®¤ë‹ˆí‹° ê²Œì‹œíŒ ë”¥ë§í¬ ì—°ê²°.
    *   [x] **ë„êµ¬ í‘œì¤€í™”**: ì•¨ë²”/ê¸°ë¡/íˆìŠ¤í† ë¦¬ 3ì¢… ë·°/í¸ì§‘ ë„êµ¬ ë””ìì¸ í†µì¼ ë° ê°€ë¡œ ìŠ¤í¬ë¡¤ ì´ìŠˆ í•´ê²°.
*   **2.5 XP & Token System (New)** âœ…:
    *   [x] **3-Tier Currency**: XP(Level), RaonToken(Utility), GoldPoint.
    *   [x] **My Exploration Index**: `/myspace/wallet` (ì§€ê°‘) í˜ì´ì§€ ë° ë‚´ì—­ ì¡°íšŒ êµ¬í˜„.
    *   [x] **Premium UI**: View/Edit ì˜µì…˜ ì ê¸ˆ í•´ì œ UI (Glassmorphism + Collapsible) ì ìš©.


### Phase 3: ì˜ˆì•½ ì‹œìŠ¤í…œ (Reservation) - âœ… 100% Completed
**"ë ˆë””ì½”ì–´ - íˆ¬ëª…í•˜ê³  ì‰¬ìš´ ì˜ˆì•½ & ê°•ë ¥í•œ ê´€ë¦¬"**

*   **3.1 ì˜ˆì•½ UI (Refinement)** âœ…
    *   [x] ìŠ¤ë§ˆíŠ¸ ë¦¬ë¶, Validation(ì£¼ë§ 2ë°•/ì—”ë“œìº¡), ê°€ê²© ë¡œì§
    *   [x] ì„ë°• ì˜ˆì•½(D-N), ì—°ë°• í• ì¸ ë¡œì§ ì ìš©
    *   [x] **ê³µíœ´ì¼/ëŒ€ì²´ê³µíœ´ì¼**: 2025-2026 ë°ì´í„° ì—°ë™ ë° ê°€ê²©/UI ë°˜ì˜ (Substitute Holidays) âœ…
    *   [x] **ë™ì  ì„¤ì • ì—°ë™**: ê´€ë¦¬ì ì„¤ì •(ì…ê¸ˆê³„ì¢Œ, ì‚¬ì´íŠ¸ì •ë³´) ì‹¤ì‹œê°„ ë°˜ì˜ (Frontend Sync) âœ…
*   **3.2 ê´€ë¦¬ì ì½˜ì†” (Admin Core)** âœ… (New)
    *   [x] **ì°¨ë‹¨ì¼ ê´€ë¦¬ (`BlockDateScheduler`)**: í†µí•© ì˜ˆì•½ ìº˜ë¦°ë”ë¡œ ê²©ìƒ
    *   [x] **ê°€ê²©/ì‹œì¦Œ ê´€ë¦¬ (`PricingConfigEditor`)**: ì‹¤ì‹œê°„ ê°€ê²© ì •ì±… ìˆ˜ì •
    *   [x] **ì…ê¸ˆ í™•ì¸ (`ReservationList`)**: ëŒ€ê¸° ëª©ë¡ ë° í™•ì • ì²˜ë¦¬
    *   [x] **ê³ ê° ê´€ë¦¬**: ì˜ˆì•½ ì´ë ¥(History) ì¡°íšŒ ë° í†µí•© ì°¨ë‹¨ ê´€ë¦¬
*   **3.3 ì˜¤í”ˆì¼/PG** ğŸ”„ (Next)
    *   [ ] ì‹¤ì œ PG ì—°ë™ (í˜„ì¬ ë¬´í†µì¥ ì…ê¸ˆë§Œ êµ¬í˜„) - ì¶”í›„ ì—°ë™ ì˜ˆì •


### Phase 4: ì»¤ë®¤ë‹ˆí‹° (Community) - âœ… 100% Completed
**"ìº í¼ë“¤ì˜ ì†Œí†µ ê³µê°„ (User-First + Admin + Groups)"**
*   **4.1 ë©”ì¸/ê²Œì‹œíŒ** âœ…: 6ê°œ íƒ­(ê³µì§€/í›„ê¸°/ì´ì•¼ê¸° ë“±) êµ¬í˜„, Supabase ì—°ë™ ì™„ë£Œ
*   **4.2 ê¸°ëŠ¥ ê³ ë„í™” (Rx 1-5)** âœ…: 
    *   [x] ëª¨ë°”ì¼ ìµœì í™” (í•˜ë‹¨ ë°”/í‚¤ë³´ë“œ), ê²€ìƒ‰(Search), í•˜ì´ë¸Œë¦¬ë“œ í˜ì´ì§€ë„¤ì´ì…˜
    *   [x] ë‚´ ê³µê°„ ì—°ë™ (ê¸°ë¡ í˜ì´ì§€), ë¹„ê³µê°œ ë¡œì§(Private)
*   **4.3 ìƒí˜¸ì‘ìš©** âœ…: ì¢‹ì•„ìš”(ê³µê°), ëŒ“ê¸€ êµ¬í˜„ ì™„ë£Œ.
*   **4.4 ë³´ì•ˆ & ê´€ë¦¬ (Security & Admin)** âœ…: 
    *   [x] **RLS(Row Level Security)**: DB ë³´ì•ˆ ì •ì±… ì ìš© (ì‘ì„±ìë§Œ ìˆ˜ì •/ì‚­ì œ)
    *   [x] **ê´€ë¦¬ì ê³µì§€/ì†Œëª¨ì„**: ê³µì§€ ì‘ì„±/ìˆ˜ì •/ì‚­ì œ, ì†Œëª¨ì„ ê°•ì œ ì‚­ì œ ê¸°ëŠ¥ êµ¬í˜„
*   **4.5 ì†Œëª¨ì„ (Groups)** âœ…:
    *   [x] **êµ¬ì¡°**: DB ìŠ¤í‚¤ë§ˆ (`groups`, `group_members`, `posts`) ë° RLS ì •ì˜
    *   [x] **ê¸°ëŠ¥**: ìƒì„±, ëª©ë¡, ìƒì„¸, ê°€ì…(Join/Leave), ê²Œì‹œê¸€(Feed)
    *   [x] **ì¢‹ì•„ìš”/ëŒ“ê¸€ ìƒí˜¸ì‘ìš© (Likes/Comments)**
    *   [x] **ì•ˆì •í™”-v1**: Next.js 15 í˜¸í™˜ì„±, UI ì˜¤ë²„ë© ìˆ˜ì •, ë©¤ë²„ì‹­ ë¡œì§ ê°œì„  ì™„ë£Œ

### Phase 5: ë§ˆì¼“ & ê²°ì œ (Market) - âœ… MVP 100% Completed
**"ìº í•‘ì˜ ê°ì„±ì„ ì§‘ìœ¼ë¡œ - Commerce"**
*   **5.1 ìƒí’ˆ ì „ì‹œ (Product Display)** âœ…:
    *   [x] ìƒí’ˆ ëª©ë¡/ìƒì„¸ í˜ì´ì§€ êµ¬í˜„ (Swiper ê°¤ëŸ¬ë¦¬/ì˜µì…˜ ì„ íƒ).
    *   [x] ê°ì„± UX ì ìš©: ì¥ë°”êµ¬ë‹ˆ/êµ¬ë§¤í•˜ê¸° ì¸í„°ë™ì…˜, í’ˆì ˆ ì²˜ë¦¬.
*   **5.2 ì¥ë°”êµ¬ë‹ˆ (Cart)** âœ…:
    *   [x] ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ê¸°ë°˜ ì¥ë°”êµ¬ë‹ˆ(Zustand).
    *   [x] ìˆ˜ëŸ‰ ì¡°ì ˆ, ì‚­ì œ, ê°€ê²© í•©ê³„ ì‹¤ì‹œê°„ ê³„ì‚°.
*   **5.3 ì£¼ë¬¸/ê²°ì œ (Checkout)** âœ…:
    *   [x] ë°°ì†¡ì§€ ì…ë ¥ í¼ (Daum ì£¼ì†Œ API ì—°ë™).
    *   [x] ê²°ì œ ìˆ˜ë‹¨ ì„ íƒ UI (ë¬´í†µì¥/ì¹´ë“œ).
    *   [x] ì£¼ë¬¸ ì™„ë£Œ í˜ì´ì§€ (Order Success).
*   **5.4 ë¦¬ë·° ì‹œìŠ¤í…œ (Reviews)** âœ… (Completed):
    *   [x] **êµ¬ì¡°**: `market_reviews` í…Œì´ë¸” ìŠ¤í‚¤ë§ˆ ê²€ì¦ ë° `UNIQUE(user_id, product_id)` ì œì•½ í™•ì¸.
    *   [x] **ê¸°ëŠ¥**: ë¦¬ë·° ì‘ì„±/ì‚­ì œ (ë³„ì , í…ìŠ¤íŠ¸) ë° ì¤‘ë³µ ë°©ì§€ ë¡œì§.
    *   [x] **ê²€ì¦**: ë“±ë¡/ì‚­ì œ ë²„ê·¸(Disabled/Event) í•´ê²° ë° Toast ê¸°ë°˜ ì‚­ì œ í™•ì¸ UI ì ìš©.
    *   [x] **ì „ì‹œ**: ìƒí’ˆ ìƒì„¸ í•˜ë‹¨ ë¦¬ë·° ë¦¬ìŠ¤íŠ¸ ê°ì„± UI (3-State).
*   **5.5 ê´€ë¦¬ì & í†µê³„ (Admin & Analytics)** âœ… (New):
    *   [x] **ë§ˆì¼“ ê´€ë¦¬**: ìƒí’ˆ ë“±ë¡/ìˆ˜ì •/ì‚­ì œ (CRUD) ë° ì™¸ë¶€ ë§í¬(External) ìƒí’ˆ ì§€ì›.
    *   [x] **ëŒ€ì‹œë³´ë“œ**: ì „ì²´/í™œë™ íšŒì› ìˆ˜, ì…ê¸ˆ ëŒ€ê¸°, ì£¼ë¬¸ ê±´ìˆ˜ ì‹¤ì‹œê°„ ì§‘ê³„ êµ¬í˜„.

### Phase 6: í™•ì¥ ëª¨ë“ˆ (Expansion) - ğŸ”„ Ongoing (98%)
**"ë” ê¹Šì€ ì—°ê²°ê³¼ ì¬ë¯¸"**
*   **6.1 í¬ë¦¬ì—ì´í„° ì½˜í…ì¸  ë³´ë“œ (MVP)** âœ…:
    *   [x] **êµ¬ì¡°**: `creators`, `creator_contents` DB ë° ì„œë¹„ìŠ¤ ë¡œì§.
    *   [x] **ê¸°ëŠ¥**: ì‘ì„±, ë¦¬ìŠ¤íŠ¸, ìƒì„¸, **ìƒí˜¸ì‘ìš©(ì¢‹ì•„ìš”/ëŒ“ê¸€/êµ¬ë…)** êµ¬í˜„ ì™„ë£Œ.
    *   [x] **ê´€ë¦¬**: ê´€ë¦¬ì ìŠ¹ì¸ ì‹œìŠ¤í…œ ë° í…ŒìŠ¤íŠ¸ ê³„ì • ì§€ì› í¬í•¨.
*   **6.2 ë¯¸ì…˜ & ë³´ìƒ (Mission System)** âœ… (100% Completed):
    *   [x] **êµ¬ì¡°**: `missions`, `user_missions`, `point_history` ìŠ¤í‚¤ë§ˆ ë° RLS.
    *   [x] **ê¸°ëŠ¥**: ë¦¬ìŠ¤íŠ¸, ìƒì„¸, ì°¸ì—¬(Join), ì¸ì¦(Photo), ë³´ìƒ(Point/XP).
    *   [x] **ì»¤ë®¤ë‹ˆí‹° ì—°ë™**: ì£¼ê°„ ë¯¸ì…˜ ê²Œì‹œë¬¼ ìë™ ìƒì„±(RPC), ëŒ“ê¸€ ì‚¬ì§„ ì¸ì¦(Compression).
    *   [x] **UX**: ì´ˆë³´ì/ê¸°ì¡´ ìœ ì € í™ˆ ìœ„ì ¯ ì—°ë™.
    *   [x] **ì´ˆë³´ì ëª¨ë“œ í™ˆ**: íˆì–´ë¡œ ì„¹ì…˜, 3-Step ì¶”ì²œ ê°€ì´ë“œ(ìš”ë¦¬/ë†€ì´/ì´ë²¤íŠ¸) ì¹´ë“œ ë·° êµ¬í˜„.
    *   [x] **ì¬ë°©ë¬¸ì ëª¨ë“œ í™ˆ**: ì˜ˆì•½/ë¯¸ì…˜ ì¤‘ì‹¬ ëŒ€ì‹œë³´ë“œ UI, í€µ ì•¡ì…˜(ì²´í¬ì¸/ë§¤ë„ˆíƒ€ì„) êµ¬í˜„.
    *   [x] **ë‚ ì”¨/ì‹œê°„ ê°œì¸í™”**: `useWeather` & `usePersonalizedRecommendation` ê¸°ë°˜ ìƒí™©ë³„ ì¸ì‚¬ë§ ë° ë‚ ì”¨ ë°°ì§€(Open-Meteo) ì ìš©.
    *   [x] **Skeleton UI**: 3-State UX(Loading/Empty/Error) ì ìš© ì™„ë£Œ.
    *   [x] **ê´€ë¦¬**: ë¯¸ì…˜ ê´€ë¦¬ì í˜ì´ì§€(Admin) í™•ì¸(Verified) + **ì°¸ì—¬ ì² íšŒ ê¸°ëŠ¥ ì¶”ê°€**.
    *   [x] **Ranking**: ì¸ê¸°ìˆœ(Trending) ì •ë ¬ ë° ë°°ì§€ ë¡œì§ ì¶”ê°€.
    ### Phase 4: Personalization Engine Upgrade (Components & Logic) - **[COMPLETED]**
    - [x] **Context-Aware Hook (`usePersonalizedRecommendation`)**
      - [x] Rule-based Scoring (Season/Weather/Time).
      - [x] Reason Generation.
      - [x] Shuffle / Random Box Logic.
    - [x] **UI Integration**
      - [x] Home Detail Sheet: Add Shuffle Button & Reason Badge.
      - [x] Restore Rich Content (Recipe Steps, Ingredients). ì •ë ¬ ë° ë°°ì§€ ë¡œì§ ì¶”ê°€.
    *   [x] **Critical Fixes (2025-12-30)**: 
        *   Deletion Persistence (RPC Cascade + Self-Healing).
        *   Reverse Cascade (Comment Delete -> Mission Withdraw).
        *   Comment Visibility (Sync Fix).
    *   [x] **XP/Token Lifecycle (2025-12-31)**:
        *   **Clawback**: ë¯¸ì…˜/ê²Œì‹œë¬¼ ì‚­ì œ ì‹œ íšë“í–ˆë˜ XP/Token ìë™ íšŒìˆ˜ (Trigger).
        *   **Photo Rewards**: ì‚¬ì§„ ì—…ë¡œë“œ ë³´ìƒë„ ì½˜í…ì¸  ID(`related_id`)ì™€ ì—°ë™í•˜ì—¬ ìë™ íšŒìˆ˜ êµ¬í˜„.
        *   **Admin Deletion**: ê´€ë¦¬ì ê°•ì œ ì‚­ì œ ê¸°ëŠ¥ (RPC `admin_force_delete_post`) ë³µêµ¬ ë° UI ì ìš©.
*   **6.3 í™•ì¥ ì§€ë„** â¬œ: (ëŒ€ê¸°)

### Phase 7: ìš´ì˜ & ê°­ í•„ë§ (Ops & Gap Filling) - ğŸ”„ Ongoing (99%)
**"ì‚¬ìš©ì í”¼ë“œë°± ê¸°ë°˜ ë””í…Œì¼ ì™„ì„±"**
*   **7.0 ì´ìŠˆ ê¸´ê¸‰ ëŒ€ì‘ (Hotfixes)** âœ…:
    *   [x] **ë¯¸ì…˜ í”¼ë“œ**: ì¢‹ì•„ìš”, ë³¸ì¸ ì‚­ì œ ê¸°ëŠ¥ ì™„ë¹„ (RLS/RPC).
    - [x] **ì»¤ë®¤ë‹ˆí‹°**: ëŒ“ê¸€ ì¢‹ì•„ìš”(New), ì‚­ì œ ì˜¤ë¥˜ í•´ê²° ë° ì‚­ì œ í™•ì¸ ëª¨ë‹¬ ì¶”ê°€ (Optimistic UI Fix).
    - [x] **Admin Ops**: ì½˜í…ì¸  ëŒ“ê¸€ ì‚­ì œ, ë¯¸ì…˜ ì°¸ì—¬ ê°•ì œ ì² íšŒ, **ê¸€ë¡œë²Œ ê²Œì‹œë¬¼ ì‚­ì œ(Global Delete)** êµ¬í˜„ ì™„ë£Œ.
    - [x] **Policy Enforcement**: **XP/Token íšŒìˆ˜(Clawback)** ë¡œì§ ë° **ì¢‹ì•„ìš” ë™ê¸°í™”(Sync)** êµ¬í˜„ ì™„ë£Œ.
    - [x] **Navigation Fix (2025-12-31)**: íƒ­ ì´ë™ ì‹œ í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨ ë˜ì–´ë„ ìƒíƒœ ìœ ì§€(URL Sync) ë° ê¹œë¹¡ì„ ì œê±°.
*   **7.1 ê¸€ë¡œë²Œ UI/UX** âœ…:
    *   [x] **TopBar**: ì„¤ì • ë©”ë‰´(í”„ë¡œí•„/ì•Œë¦¼/ì•½ê´€) ë° ë¡œê·¸ì•„ì›ƒ êµ¬í˜„ ì™„ë£Œ.
    *   [x] **Login UX**: ë¹„ë¡œê·¸ì¸ ì ‘ê·¼ ì œí•œ(Global Modal) ë° ë¡œê·¸ì•„ì›ƒ ì‹œ XP ì´ˆê¸°í™” êµ¬í˜„ ì™„ë£Œ.
*   **7.2 í™ˆ ë””í…Œì¼ (Home Details)** âœ…:
    *   [x] **ì´ˆë³´ì ì¹©**: 6ê°œ ê³ ì • ì¹© ë””ìì¸ ì ìš© ë° ê´€ë¦¬ì ì—°ë™ ì™„ë£Œ.
    *   [x] **ì˜¤ëŠ˜ì˜ ì½˜í…ì¸ **: 'ì˜¤ëŠ˜ì˜ ì¶”ì²œ'ìœ¼ë¡œ ëª…ì¹­ ë³€ê²½ ë° ê°œì¸í™” ì—”ì§„ V2 (`recommendation_pool`) í”„ë¡ íŠ¸ì—”ë“œ/ë°±ì—”ë“œ ê³ ë„í™” ì™„ë£Œ.
    *   [x] **ë§í¬ ìˆ˜ì •**: ê´€ë¦¬ì ì„¤ì •(ê¸°ë³¸ì •ë³´)ì—ì„œ ì£¼ìš” ë§í¬ ë° í…ìŠ¤íŠ¸ ì œì–´ ê°€ëŠ¥.
    *   [x] **ê´€ë¦¬ì ê³ ë„í™” V2.1**: AI Bulk Import, êµ¬ì¡°í™”ëœ ì¬ë£Œ/ë‹¨ê³„ ì…ë ¥ í¼, ê°œì¸í™” í•„ë“œ(ì¸ë¶„/ì¹¼ë¡œë¦¬/ì—°ë ¹/ì¥ì†Œ) ê´€ë¦¬.
*   **7.3 ë‚´ê³µê°„ ê³ ë„í™” (My Space Pivot)** âœ…:
    *   [x] **ì˜¤ëŠ˜ì˜ ì½˜í…ì¸ **: 'ì˜¤ëŠ˜ì˜ ì¶”ì²œ'ìœ¼ë¡œ ëª…ì¹­ ë³€ê²½ ë° ê°œì¸í™” ì—”ì§„ V2 (`recommendation_pool`) í”„ë¡ íŠ¸ì—”ë“œ/ë°±ì—”ë“œ ê³ ë„í™” ì™„ë£Œ.
    *   [x] **ë§í¬ ìˆ˜ì •**: ê´€ë¦¬ì ì„¤ì •(ê¸°ë³¸ì •ë³´)ì—ì„œ ì£¼ìš” ë§í¬ ë° í…ìŠ¤íŠ¸ ì œì–´ ê°€ëŠ¥.
    *   [x] **ê´€ë¦¬ì ê³ ë„í™” V2.1**: AI Bulk Import, êµ¬ì¡°í™”ëœ ì¬ë£Œ/ë‹¨ê³„ ì…ë ¥ í¼, ê°œì¸í™” í•„ë“œ(ì¸ë¶„/ì¹¼ë¡œë¦¬/ì—°ë ¹/ì¥ì†Œ) ê´€ë¦¬.
*   **7.3 ë‚´ê³µê°„ ê³ ë„í™” (My Space Pivot)** âœ…:
    *   [x] **ìœ„ì¹˜ ê¸°ë°˜ í¸ì˜ì‹œì„¤**: `site_config.nearby_places`ì™€ ì—°ë™ëœ ì£¼ë³€ í¸ì˜ì‹œì„¤ íƒ­ êµ¬í˜„.
    *   [x] **ì£¼ë³€ ì¦ê¸¸ê±°ë¦¬**: `nearby_events` DB ì—°ë™ ë° LBS.
    *   [x] **Fallback ë°ì´í„° ê°œì„  (2026-01-07)**: ê°€í‰ â†’ ì˜ˆì‚°êµ° ë°ì´í„° ë³€ê²½, ê²€ìƒ‰ ë°˜ê²½ 10km â†’ 20km í™•ì¥.
    *   [x] **í–‰ì‚¬ UI ê°œì„ **: ì´ë¯¸ì§€ ì œê±°, ì§„í–‰ì¤‘ ë±ƒì§€ ì´ë™, ìƒì„¸ë³´ê¸° ë²„íŠ¼(TourAPI ì—°ë™).
    *   [x] **Archive UX (New)**: ë¶ˆë©/ë³„ë³´ê¸°/ê¾¸ë¯¸ê¸° ë²„íŠ¼ ì‚­ì œ. ì‚¬ì§„ ì—…ë¡œë“œ ë° ë·°ì–´ í’ˆì§ˆ ê°•í™”.
    *   [x] **Action**: 'ê¸°ë¡í•˜ê¸°(Log)' ë²„íŠ¼ ê°•ì¡° ë° ì ‘ê·¼ì„± ê°œì„ .
    *   [x] **ì¼ê´€ì„±**: ë‚´ê³µê°„ ì „ë°˜(Records, Album, History)ì˜ ë„êµ¬ UI ê²½í—˜ í†µì¼.
*   **7.5 ì‹œìŠ¤í…œ ìš´ì˜ ë° ì•ˆì •ì„± (System Ops)** âœ…:
    *   [x] **ë‚ ì”¨ ì˜ˆë³´ ê³ ë„í™”**: ë‹¨ê¸°/ì¤‘ê¸° ì˜ˆë³´ ë³‘í•© ë¡œì§ ìˆ˜ì •ìœ¼ë¡œ **10ì¼ ì˜ˆë³´** ì§€ì› ì™„ë£Œ.
    *   [x] **ì‹œìŠ¤í…œ ìš´ì˜ë³´ë“œ (New)**: `/admin/operations` êµ¬í˜„ (SSOT 26ì¥). ìœ ì € ì ‘ê·¼ ì œì–´(ìœ ì§€ë³´ìˆ˜ ëª¨ë“œ), ì˜ˆì•½ ì°¨ë‹¨, ìºì‹œ/ì•Œë¦¼ ë¦¬ì…‹ ì›í´ë¦­ ëŒ€ì‘.
    *   [x] **ë„ì›€ë§ ê°€ì´ë“œ**: ìš´ì˜ë³´ë“œ ë‚´ ìƒí™©ë³„ ì¡°ì¹˜ ê°€ì´ë“œ(Dialog) íƒ‘ì¬.
*   **7.6 ë§ˆì¼“ í”¼ë²— (Market Pivot)** â¬œ:
    *   [ ] **ì œíœ´ ì¤‘ì‹¬**: ìì²´ ìƒí’ˆ ëŒ€ì‹  ì™¸ë¶€ ë§í¬(ì¿ íŒ¡ íŒŒíŠ¸ë„ˆìŠ¤ ë“±) ì§€ì› êµ¬ì¡°ë¡œ ë³€ê²½.
*   **7.5 ì˜ˆì•½ ìë™í™”** â¬œ:
    *   [ ] **ì˜¤í”ˆ ë¡œì§**: ë§¤ì›” 1ì¼ 09ì‹œ -> ìµìµì›” ë§ì¼ê¹Œì§€ ìë™ ì˜¤í”ˆ ë¡œì§ êµ¬í˜„.
*   **7.6 ì™¸ë¶€ API ì—°ë™ (Final Polish)** â¬œ:
    *   [ ] **TourAPI/Kakao**: `nearby_events` ë° `site_config` ë°ì´í„°ë¥¼ ì‹¤ì œ ì™¸ë¶€ APIì™€ ì‹¤ì‹œê°„ ë™ê¸°í™” (ì•ˆì •í™” ë‹¨ê³„ì—ì„œ ì§„í–‰).

### Phase 8: ì•ˆì •í™” ë° ë¦¬íŒ©í† ë§ (Stabilization) - ğŸ”„ In Progress
**"Codebase Health Improving - Operation Sparkling Forest"**
*   **8.1 Component Sanitization** âœ… (2025-12-31):
    *   [x] `src/components` ì „ì—­ Lint ìˆ˜ì • (MyMapModal, ReturningHome ë“±).
    *   [x] `any` íƒ€ì… ì œê±° ë° `Next/Image` ìµœì í™”.
*   **8.2 Hook Refactoring** âœ…:
    *  - [x] **2.5. Structure & Cleanup** (Completed - Runtime Stable)
    - [x] Global Import Cleanup (Partially done for Admin/Core modules)
    - [x] Global Linting (Critical Admin Modules Cleaned)
    - [x] Unused Component Removal (Alert restored, others verified)
    - [x] Critical Refactors (`package` -> `pkg`, `MySpaceState` export)
    *   [x] **8.3 Safe Refactoring (Deep Type Safety)** âœ… (2026-01-04):
        *   [x] **Stage 4-8 Complete**: Removed 40 `any` types + Production build enabled
        *   [x] Components (8): BeginnerHome, ReturningHome, SiteList
        *   [x] Store Layer (16): Error handlers + DB mapping
        *   [x] Services (7): communityService, creatorService, communityUtils
        *   [x] Weather API (9): Comprehensive KMA type definitions
        *   [x] **Production Build**: âœ… Enabled with `ignoreBuildErrors` (temporary)
        *   [x] **Live Verification**: All features tested via browser - 0 runtime errors
    *   [x] **8.4 Type System & Personalization** âœ… (2026-01-07):
        *   [x] **DB Schema**: `profiles` table updated (Family/Interests) & Types patched.
        *   [x] **Personalization Engine**: Hook updated to boost scores based on profile.
        *   [x] **UI**: Nickname greeting & Recommendation reason fix.
        *   [x] **Logic**: Expanded pool to Top 50 for variety.
        *   [x] **Admin**: Replaced deletion popup with AlertDialog.
        *   [x] **Production Build**: âœ… SUCCESS (Exit code: 0)
        *   [x] **Live Verification**: Verified recommendation logic via code review & build.
        *   [x] **8.5 External API Expansion (Nearby Activities)** âœ… (2026-01-09):
            *   [x] **Integration**: TourAPI(Leisure/Attraction) + Public Data Portal(Performance/Festival).
            *   [x] **Filtering Logic**: Camping keyword exclusion in Leisure tab.
            *   [x] **UI Enhancement**: 4-Tab System (Events/Leisure/Attractions/Facilities) with badges.
            *   [x] **Admin Operations**: Mission Deletion & Bulk Import fully fixed (Server Actions).
            *   [x] **UI Polish**: Recommendation Colors & Layout finalized.
            *   [x] **Status**: **100% Done**
        *   [x] **8.6 Weekly Mission Ranking & Ember Support** âœ… (2026-01-10):
            *   [x] **Mission Ranking**: GitHub Actions cron (Sundays 21:00 KST) + API Route + Admin UI.
            *   [x] **Ember Support (ë¶ˆì”¨)**: Token-based "quiet support" system (10 tokens).
            *   [x] **Ember Integration**: Mission cards, Community posts, Comments.
            *   [x] **Home Fix**: Restored MissionHomeWidget to BeginnerHome.
            *   [x] **DB Migration**: `20260110_mission_ranking_rewards.sql`, `20260110_ember_support.sql`.
            *   [x] **Planning**: Created `ember_feature_spec.md` & `ember_implementation_plan.md` for Phase 8.7.
            *   [x] **Status**: **100% Done**
        *   [x] **8.7 Ember Notifications & Stats** âœ… (2026-01-11):
            *   [x] **Notification System**: `EMBER_RECEIVED` ì•Œë¦¼ íƒ€ì… + ì¸ì•± ë°°ì§€ ìë™ ìƒì„±.
            *   [x] **Stats RPC**: `get_my_ember_stats`, `get_sent_embers`, `get_received_embers`.
            *   [x] **HeroSection Badge**: ë°›ì€ ë¶ˆì”¨ > 0ì¼ ë•Œ ì¢Œì¸¡ ìƒë‹¨ì— "ë¶ˆì”¨ Nê°œ" í‘œì‹œ.
            *   [x] **Embers Page**: `/myspace/embers` - ë°›ì€/ë‚¨ê¸´ ë¶ˆì”¨ íƒ­, ë¹ˆ ìƒíƒœ UI í¬í•¨.
            *   [x] **DB Migration**: `20260111_ember_notifications.sql`.
            *   [x] **Live Verification**: ë¸Œë¼ìš°ì € ê²€ì¦ ì™„ë£Œ.
            *   [x] **Status**: **100% Done**
        *   [x] **8.8 Reservation Concurrency & Admin Deletion** âœ… (2026-01-12):
            *   [x] **Reservation Concurrency**: Advisory Lock + RPC (`create_reservation_safe`).
            *   [x] **Admin Deletion**: AlertDialog ë°©ì‹ìœ¼ë¡œ í›„ê¸°/ì»¨í…ì¸ /ë§ˆì¼“/ê³µì§€ ì‚­ì œ ê°œì„ .
            *   [x] **Notice Query Fix**: SlimNotice ì»¬ëŸ¼ëª… ìˆ˜ì • (`board_type` â†’ `type`).
            *   [x] **DB Migration**: `20260111_reservation_concurrency.sql`, `20260111_admin_delete_permissions.sql`.
            *   [x] **Status**: **100% Done**
        *   [x] **8.9 Emotional Greeting System (New)** âœ… (2026-01-12):
            *   [x] **Logic Upgrade**: ë‚ ì”¨/ì‹œê°„/ê³„ì ˆ/ì˜¨ë„(í˜¹í•œ/ë¬´ë”ìœ„) í†µí•© íŒë³„ ë¡œì§ ì ìš©.
            *   [x] **Rich Pool**: 100+ ë¬¸í•™ì /ê°ì„±ì  ë©˜íŠ¸ í’€(Pool) êµ¬ì¶• ë° ëœë¤ ë¡œí…Œì´ì…˜.
            *   [x] **UI Integration**: SlimNotice(í•œì¤„ê³µì§€) ê²¹ì¹¨ í•´ê²° ë° ë²„ê·¸ ìˆ˜ì •.
            *   [x] **Verification**: ë¸Œë¼ìš°ì € ì‹œë®¬ë ˆì´ì…˜ ê²€ì¦ ì™„ë£Œ.
            *   [x] **Status**: **100% Done**

### Phase 9: ì„ íƒì  ì‘ì—… (Non-Urgent - ë‹¤ìŒ ì„¸ì…˜)
> âš ï¸ **ê¸´ê¸‰ë„: ë‚®ìŒ** - í•µì‹¬ ê¸°ëŠ¥(ì˜ˆì•½/ì»¤ë®¤ë‹ˆí‹°/í™ˆ)ì—ëŠ” ì˜í–¥ ì—†ìŒ
*   **9.1 Edge Function ë°°í¬** (Priority: LOW):
    *   [ ] `supabase/functions/push-notification/` â†’ Supabase ëŒ€ì‹œë³´ë“œì—ì„œ ë°°í¬
    *   [ ] í™˜ê²½ ë³€ìˆ˜ ì„¤ì •: `FIREBASE_PROJECT_ID`, `FIREBASE_CLIENT_EMAIL`, `FIREBASE_PRIVATE_KEY`
*   **9.2 DB Schema ë™ê¸°í™”** (Priority: LOW):
    *   [ ] Supabase CLI ì¸ì¦ í›„ `npx supabase gen types typescript` ì‹¤í–‰
    *   [ ] í˜„ì¬ ë¹Œë“œëŠ” ê¸°ì¡´ íƒ€ì…ìœ¼ë¡œ ì •ìƒ ë™ì‘ ì¤‘
*   **9.3 ESLint ì •ë¦¬** (Priority: LOW):
    *   [ ] `eslint ignoreDuringBuilds` í•´ì œ ì „ ê²½ê³  ì •ë¦¬
*   **9.4 ì¹´ì¹´ì˜¤ë§µ JavaScript SDK ë“±ë¡** (Priority: LOW - ë„ë©”ì¸ í™•ì • í›„):
    *   [ ] ë„ë©”ì¸ í™•ì • í›„ Kakao Developers ì•±ì— JavaScript SDK ë„ë©”ì¸ ë“±ë¡
    *   [ ] JavaScript í‚¤ ë°œê¸‰ ë° `NEXT_PUBLIC_KAKAO_JS_KEY` í™˜ê²½ë³€ìˆ˜ ì¶”ê°€
    *   [ ] ì§€ë„ ë Œë”ë§ ê¸°ëŠ¥ êµ¬í˜„ (ì„ íƒ)
*   **9.5 PWA êµ¬í˜„** (Priority: MEDIUM - ë°°í¬ ì§ì „):
    *   [ ] `manifest.json` ì‘ì„± (ì•± ì´ë¦„, ì•„ì´ì½˜, í…Œë§ˆ ìƒ‰ìƒ)
    *   [ ] ì•± ì•„ì´ì½˜ ì¤€ë¹„ (192x192, 512x512, 180x180)
    *   [ ] Service Worker í™•ì¥ (ì˜¤í”„ë¼ì¸ ìºì‹±)
    *   [ ] ë©”íƒ€ íƒœê·¸ ì¶”ê°€ (`layout.tsx`)
    *   [ ] "í™ˆ í™”ë©´ì— ì¶”ê°€" ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
    *   [ ] (ì„ íƒ) TWAë¡œ í”Œë ˆì´ìŠ¤í† ì–´ ë“±ë¡


---

## ğŸš€ ë°°í¬ ì²´í¬ë¦¬ìŠ¤íŠ¸ (Deployment Checklist)

### âœ… ë°°í¬ ì „ ì™„ë£Œ í•­ëª© (Pre-Deployment - Done)
| í•­ëª© | ìƒíƒœ | ë¹„ê³  |
|------|------|------|
| Supabase ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰ | âœ… | `site_config` ë³´ìƒ ì»¬ëŸ¼, `mission_rewards` í…Œì´ë¸”, RPC í•¨ìˆ˜ |
| ë¡œì»¬ í™˜ê²½ë³€ìˆ˜ ì„¤ì • | âœ… | `SUPABASE_SERVICE_ROLE_KEY`, `CRON_SECRET` |
| ê´€ë¦¬ì ë³´ìƒ ì„¤ì • UI | âœ… | `/admin/settings` í•˜ë‹¨ "ì£¼ê°„ ë¯¸ì…˜ Top 3 ë³´ìƒ ì„¤ì •" |

### â³ ë°°í¬ í›„ í•„ìš” ì‘ì—… (Post-Deployment - Pending)
| í•­ëª© | ì„¤ëª… | ë§í¬/ë°©ë²• |
|------|------|------|
| **Supabase ë§ˆì´ê·¸ë ˆì´ì…˜** | ë¶ˆì”¨(Ember) ì§€ì› í…Œì´ë¸” ìƒì„± | `20260110_ember_support.sql` ì‹¤í–‰ |
| **Vercel í™˜ê²½ë³€ìˆ˜ ì¶”ê°€** | `SUPABASE_SERVICE_ROLE_KEY`, `CRON_SECRET` | Vercel Dashboard â†’ Settings â†’ Environment Variables |
| **GitHub Secrets ì„¤ì •** | `APP_URL` (ë°°í¬ëœ URL), `CRON_SECRET` | GitHub â†’ Settings â†’ Secrets â†’ Actions |
| **GitHub Actions í™œì„±í™”** | `.github/workflows/mission-ranking-cron.yml` | Push í›„ ìë™ í™œì„±í™”. Actions íƒ­ì—ì„œ í™•ì¸ |
| **ì˜ë„ëœ ì‘ë™ í™•ì¸** | ì¼ìš”ì¼ 21:00 KST ìë™ ë­í‚¹/ë³´ìƒ | Actions ë¡œê·¸ í™•ì¸ ë˜ëŠ” ìˆ˜ë™ íŠ¸ë¦¬ê±° í…ŒìŠ¤íŠ¸ |

### ğŸ“Œ GitHub Secrets ì„¤ì • ë°©ë²•
1. GitHub ì €ì¥ì†Œ â†’ **Settings** â†’ **Secrets and variables** â†’ **Actions**
2. **New repository secret** í´ë¦­
3. ì¶”ê°€í•  í•­ëª©:
   - `APP_URL`: `https://your-app.vercel.app` (ë°°í¬ í›„ Vercelì—ì„œ í™•ì¸)
   - `CRON_SECRET`: ë¡œì»¬ `.env`ì— ì„¤ì •í•œ ê²ƒê³¼ ë™ì¼í•œ ê°’

### ğŸ“Œ Vercel í™˜ê²½ë³€ìˆ˜ ì„¤ì • ë°©ë²•
1. Vercel Dashboard â†’ í”„ë¡œì íŠ¸ ì„ íƒ â†’ **Settings** â†’ **Environment Variables**
2. ì¶”ê°€í•  í•­ëª©:
   - `SUPABASE_SERVICE_ROLE_KEY`: Supabase Dashboardì—ì„œ ë³µì‚¬
   - `CRON_SECRET`: GitHub Secretsì™€ ë™ì¼í•œ ê°’

### ğŸ§ª ìˆ˜ë™ í…ŒìŠ¤íŠ¸ ë°©ë²•
```bash
# ë°°í¬ í›„ API í…ŒìŠ¤íŠ¸
curl -X POST https://your-app.vercel.app/api/cron/mission-ranking \
  -H "Authorization: Bearer YOUR_CRON_SECRET" \
  -H "Content-Type: application/json"
```

---

1.  **Priority**: **ë‚´ê³µê°„ ë¦¬ë‰´ì–¼ (My Space Pivot)**.
2.  **Strategy**: "ì–´ì„¤í”ˆ ê¸°ëŠ¥ë³´ë‹¤ í™•ì‹¤í•œ ê°ì„±(ì‚¬ì§„)"ìœ¼ë¡œ ì „í™˜.
3.  **Next**: ì œíœ´ ë§ˆì¼“ ë° ìë™í™”.

